import re
from typing import Tuple

def parse_output(raw_output: str) -> Tuple[str, str]:
    """
    Parses the raw output from ask_model() to extract answer and explanation.
   
    Args:
        raw_output (str): The raw text output generated by the model.
       
    Returns:
        Tuple[answer: str, explanation: str]: A tuple containing the answer and explanation.
    """
    try:
        # Use regex to find the answer and explanation in the raw output
       raw_answer = re.search(r'Answer:\s*([A-D])', raw_output)
       raw_explanation = re.search(r'Explanation:\s*(.+)', raw_output, re.IGNORECASE | re.DOTALL)
       
       answer = raw_answer.group(1).upper()
       explanation = raw_explanation.group(1).strip()

       return (answer, explanation)

    except Exception as e:
        print(f"Error parsing output: {e}")
        return ("Parsing error", "Exception during parsing.")